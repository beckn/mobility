openapi: 3.0.0
info:
  title: Beckn Mobility API Specification
  description: Adaptation of beckn protocol for the mobility sector. Compatible with core version 0.9.4 LTS.
  version: 0.8.1
security:
  - SubscriberAuth: []
  - GatewaySubscriberAuth: []
  - GatewaySubscriberAuthNew: []
paths:
  /search:
    post:
      tags:
        - Beckn Provider Platform (BPP)
        - Beckn Gateway (BG)
      description: BAP declares the customer's intent to buy/avail products or services
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - search
                message:
                  type: object
                  properties:
                    intent:
                      $ref: '#/components/schemas/Intent'
              required:
                - context
                - message
            examples:
              example0:
                summary: Search for services in the city of Bengaluru by pickup and drop location
                value:
                  context:
                    country: IND
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:41:16Z'
                    bap_id: example-bap.com
                    transaction_id: 6743e9e2-4fb5-487c-92b7-13ba8018f176
                    message_id: 6743e9e2-4fb5-487c-92b7-13ba8018f176
                    city: 'std:080'
                    core_version: 0.9.4
                    action: search
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    intent:
                      fulfillment:
                        start:
                          location:
                            gps: '12.923608703179461, 77.61462964117527'
                        end:
                          location:
                            gps: '12.9346302, 77.61533969999999'
              example1:
                summary: Search by pickup and drop location with localization info
                value:
                  context:
                    country: IND
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:41:16Z'
                    bap_id: example-bap.com
                    transaction_id: 6743e9e2-4fb5-487c-92b7-13ba8018f176
                    message_id: 6743e9e2-4fb5-487c-92b7-13ba8018f176
                    city: 'std:080'
                    core_version: 0.9.4
                    action: search
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    intent:
                      fulfillment:
                        start:
                          location:
                            gps: '12.923608703179461, 77.61462964117527'
                        end:
                          location:
                            gps: '12.9346302, 77.61533969999999'
                        customer:
                          person:
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /select:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: BAP declares the customer's cart (or equivalent) created by selecting objects from the catalog
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - select
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
              required:
                - context
                - message
            examples:
              example0:
                summary: Get quote for a specific product from a mobility catalog
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:46:45Z'
                    bap_id: example-bap.com
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    bpp_id: example-bpp.com
                    message_id: 432fdfd6-0457-47b6-9fac-80cbe5c0a75b
                    city: 'std:080'
                    core_version: 0.9.4
                    action: select
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    max_callbacks: 3
                    ttl: P120S
                  message:
                    order:
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                      fulfillment:
                        start:
                          location:
                            gps: '12.910458, 77.543089'
                        end:
                          location:
                            gps: '12.9535139, 77.5710434'
              example1:
                summary: Get quote for a specific product from a mobility catalog with gps and address details
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:46:45Z'
                    bap_id: example-bap.com
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    bpp_id: example-bpp.com
                    message_id: 432fdfd6-0457-47b6-9fac-80cbe5c0a75b
                    city: 'std:080'
                    core_version: 0.9.4
                    action: select
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    max_callbacks: 3
                    ttl: P120S
                  message:
                    order:
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                      fulfillment:
                        start:
                          location:
                            gps: '12.910458, 77.543089'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9535139, 77.5710434'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
              example2:
                summary: Get quote for a specific product from a mobility catalog with localization
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:46:45Z'
                    bap_id: example-bap.com
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    bpp_id: example-bpp.com
                    message_id: 432fdfd6-0457-47b6-9fac-80cbe5c0a75b
                    city: 'std:080'
                    core_version: 0.9.4
                    action: select
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    max_callbacks: 3
                    ttl: P120S
                  message:
                    order:
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                      fulfillment:
                        start:
                          location:
                            gps: '12.910458, 77.543089'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9535139, 77.5710434'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        customer:
                          person:
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /init:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - init
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
              required:
                - context
                - message
            examples:
              example0:
                summary: Initialize draft order and request for terms of service
                value:
                  context:
                    action: init
                    bap_id: example-bap.com
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: example-bpp.com
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: 'std:080'
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    timestamp: '2023-03-23T04:48:53Z'
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                  message:
                    order:
                      customer:
                        person:
                          name: John Doe
                          phone: +91-9897867564
                          tags:
                            groups/1/descriptor/code: localization
                            groups/1/descriptor/name: Localization
                            groups/1/display: false
                            groups/1/list/1/descriptor/code: lang
                            groups/1/list/1/descriptor/name: Language
                            groups/1/list/1/value: en
                      fulfillment:
                        agent:
                          name: RAGHAVENDRA J
                          rateable: true
                          rating: '5'
                        end:
                          location:
                            address:
                              area_code: ''
                              building: Rangadore Memorial Hospital
                              city: Bengaluru
                              country: India
                              door: null
                              locality: Basavanagudi
                              state: Karnataka
                              street: Chikkanna Garden
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                            gps: '12.9711869, 77.5868122'
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        start:
                          location:
                            address:
                              area_code: '560061'
                              building: 6th Main Rd
                              city: Bengaluru
                              country: India
                              door: '98A, Sarovarm 2nd cross'
                              locality: Uttarahalli Hobli
                              state: Karnataka 560061
                              street: Ramanjaneyanagar
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                            gps: '13.008935, 77.6444085'
                        vehicle:
                          category: AUTO_RICKSHAW
                      items:
                        - fulfillment_id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                          id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          payment_id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                      payment:
                        collected_by: BPP
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                      provider:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                      quote:
                        breakup:
                          - price:
                              currency: INR
                              value: '30'
                            title: Base Fare
                          - price:
                              currency: INR
                              value: '56'
                            title: Per km fare
                        currency: INR
                        value: '76'
      responses:
        default:
          description: Acknowledgement of message received after successful validation of schema and signature
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: object
                    properties:
                      ack:
                        allOf:
                          - $ref: '#/components/schemas/Ack'
                          - properties:
                              status:
                                enum:
                                  - ACK
                                  - NACK
                    required:
                      - ack
                  error:
                    $ref: '#/components/schemas/Error'
                required:
                  - message
  /confirm:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Initialize an order by providing billing and/or shipping details
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - confirm
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
              required:
                - context
                - message
            examples:
              example0:
                summary: Confirm ride booking
                value:
                  context:
                    action: confirm
                    bap_id: example-bap.com
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: example-bpp.com
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: 'std:080'
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    timestamp: '2023-03-23T04:48:53Z'
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                  message:
                    order:
                      fulfillment:
                        agent:
                          name: RAGHAVENDRA J
                          rateable: true
                          rating: '5'
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/code: localization
                              groups/1/descriptor/name: Localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                        end:
                          location:
                            address:
                              area_code: ''
                              building: Rangadore Memorial Hospital
                              city: Bengaluru
                              country: India
                              door: null
                              locality: Basavanagudi
                              state: Karnataka
                              street: Chikkanna Garden
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                            gps: '12.9711869, 77.5868122'
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        start:
                          location:
                            address:
                              area_code: '560061'
                              building: 6th Main Rd
                              city: Bengaluru
                              country: India
                              door: '98A, Sarovarm 2nd cross'
                              locality: Uttarahalli Hobli
                              state: Karnataka 560061
                              street: Ramanjaneyanagar
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                            gps: '13.008935, 77.6444085'
                        vehicle:
                          category: AUTO_RICKSHAW
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      items:
                        - descriptor:
                            code: RIDE
                            name: Auto Ride
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          payment_id: '1'
                          tags:
                            groups/1/descriptor/code: fare_policy
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/code: fare_policy
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/display: true
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/code: info
                            groups/3/descriptor/name: General Information
                            groups/3/display: true
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/value: 3 min
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
                        type: ON-FULFILLMENT
                      provider:
                        descriptor:
                          name: Raghavendra J
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                      quote:
                        breakup:
                          - price:
                              currency: INR
                              value: '30'
                            title: Base Fare
                          - price:
                              currency: INR
                              value: '56'
                            title: Per km fare
                          - price:
                              currency: INR
                              value: '2.5'
                            title: CGST @ 5%
                          - price:
                              currency: INR
                              value: '2.5'
                            title: SGST @ 5%
                        currency: INR
                        value: '81'
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /status:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Fetch the latest order object
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - status
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: '#/components/schemas/Order/properties/id'
                  required:
                    - order_id
              required:
                - context
                - message
            examples:
              example0:
                summary: Get latest fulfillment status of a booking
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: status
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order_id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /track:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Track an active order
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - track
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: '#/components/schemas/Order/properties/id'
                    callback_url:
                      type: string
                      format: uri
                  required:
                    - order_id
              required:
                - context
                - message
            examples:
              example0:
                summary: Track an active ride
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    city: 'std:080'
                    core_version: 0.9.4
                    action: track
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order_id: 22e090fc-b8b1-4437-9126-ff7a71c7845c
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /cancel:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Cancel an order
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - cancel
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: '#/components/schemas/Order/properties/id'
                    cancellation_reason_id:
                      $ref: '#/components/schemas/Option/properties/id'
                    descriptor:
                      $ref: '#/components/schemas/Descriptor'
                  required:
                    - order_id
              required:
                - context
                - message
            examples:
              example0:
                summary: Cancel a ride with selected reason
                value:
                  context:
                    action: cancel
                    bap_id: api.beckn.juspay.in/pilot/bap/cab/v1
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: api.beckn.juspay.in/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: Bangalore
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: be6a495a-e941-4fbf-9d59-f1e6166cccc8
                    timestamp: '2023-03-23T05:15:08Z'
                  message:
                    cancellation_reason_id: '5'
                    order_id: b4232ad4-19ee-4c67-9223-a5189b13a741
              example1:
                summary: Cancel a ride with user provided information
                value:
                  context:
                    action: cancel
                    bap_id: api.beckn.juspay.in/pilot/bap/cab/v1
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: api.beckn.juspay.in/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: Bangalore
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: be6a495a-e941-4fbf-9d59-f1e6166cccc8
                    timestamp: '2023-03-23T05:15:08Z'
                  message:
                    cancellation_reason_id: '7'
                    descriptor:
                      short_desc: Accidenally booked the ride
                    order_id: b4232ad4-19ee-4c67-9223-a5189b13a741
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /update:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Remove object
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - update
                      required:
                        - action
                message:
                  type: object
                  properties:
                    update_target:
                      description: 'Comma separated values of order objects being updated. For example: ```"update_target":"item,billing,fulfillment"```'
                      type: string
                    order:
                      description: Updated order object
                      allOf:
                        - $ref: '#/components/schemas/Order'
                  required:
                    - update_target
                    - order
              required:
                - context
                - message
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /rating:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Provide feedback on a service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - rating
                      required:
                        - action
                message:
                  type: object
                  properties:
                    ratings:
                      type: array
                      items:
                        $ref: '#/components/schemas/Rating'
              required:
                - context
                - message
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /support:
    post:
      tags:
        - Beckn Provider Platform (BPP)
      description: Contact support
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - support
                      required:
                        - action
                message:
                  type: object
                  properties:
                    support:
                      $ref: '#/components/schemas/Support'
              required:
                - context
                - message
            examples:
              example0:
                summary: Fetch support information related to a particular order
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    city: 'std:080'
                    core_version: 0.9.4
                    action: support
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    ref_id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_search:
    post:
      tags:
        - Beckn App Platform (BAP)
        - Beckn Gateway (BG)
      description: BPP sends its catalog in response to a search request.
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_search
                      required:
                        - action
                message:
                  type: object
                  properties:
                    catalog:
                      $ref: '#/components/schemas/Catalog'
                  required:
                    - catalog
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return a mobility catalog
                value:
                  message:
                    context:
                      country: IND
                      bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                      domain: 'nic2004:60221'
                      timestamp: '2023-03-23T04:43:02Z'
                      bap_id: example-bap.com
                      transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                      bpp_id: example-bpp.com
                      message_id: 21e54d3c-9c3b-47c1-aa3b-b0e7b20818ee
                      city: 'std:080'
                      core_version: 0.9.4
                      action: on_search
                      bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    catalog:
                      bpp/descriptor:
                        name: Namma Yatri Partner
                      bpp/providers:
                        - locations:
                            - id: '1'
                              gps: '12.9164682,77.6089985'
                            - id: '2'
                              gps: '12.91671,77.6092983'
                            - id: '3'
                              gps: '12.9165733,77.6152167'
                            - id: '4'
                              gps: '12.9068578,77.6044567'
                          items:
                            - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                              descriptor:
                                name: Auto Ride
                                code: RIDE
                              price:
                                maximum_value: '156'
                                currency: INR
                                minimum_value: '176'
                                value: 156 - 176 INR
                              tags:
                                groups/1/descriptor/name: Daytime Charges
                                groups/1/descriptor/code: fare_policy
                                groups/1/display: true
                                groups/1/list/1/descriptor/name: Min Fare upto 2 km
                                groups/1/list/1/value: ₹ 30 upto 2 km
                                groups/1/list/2/descriptor/name: Rate above Min. Fare
                                groups/1/list/2/descriptor/code: extra_fare
                                groups/1/list/2/value: ₹15 / km
                                groups/1/list/3/descriptor/name: Driver Pickup Charges
                                groups/1/list/3/descriptor/code: pickup_charges
                                groups/1/list/3/value: ₹ 10
                                groups/1/list/4/descriptor/name: Nominal Fare
                                groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                                groups/1/list/4/descriptor/code: nominal_fare
                                groups/1/list/4/value: ₹ 10
                                groups/1/list/5/descriptor/name: Waiting Charges
                                groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                                groups/1/list/5/descriptor/code: waiting_charges
                                groups/1/list/5/value: ₹ 0 / min
                                groups/2/descriptor/name: Night Charges
                                groups/2/descriptor/code: fare_policy
                                groups/2/display: true
                                groups/2/list/1/descriptor/name: Night Charges
                                groups/2/list/1/descriptor/code: night_charges
                                groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                                groups/2/list/2/descriptor/name: Night Shift Start
                                groups/2/list/2/descriptor/code: night_shift_start_time
                                groups/2/list/2/value: '22:00:00'
                                groups/2/list/3/descriptor/name: Night Shift End
                                groups/2/list/3/descriptor/code: night_shift_end_time
                                groups/2/list/3/value: '05:00:00'
                                groups/3/descriptor/name: General Information
                                groups/3/descriptor/code: info
                                groups/3/display: true
                                groups/3/list/1/descriptor/name: Distance to nearest driver
                                groups/3/list/1/descriptor/code: distance_to_nearest_driver
                                groups/3/list/1/value: 661 m
                                groups/3/list/2/descriptor/name: Wait time upto
                                groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                                groups/3/list/2/value: 3 min
                              fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                              payment_id: '1'
                          fulfillments:
                            - id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                              start:
                                location:
                                  gps: '12.9099828, 77.6118226'
                                  address:
                                    ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                                    country: India
                                    building: 6th Main Rd
                                    state: Karnataka 560061
                                    city: Bengaluru
                                    locality: Uttarahalli Hobli
                                    door: '98A, Sarovarm 2nd cross'
                                    area_code: '560061'
                                    street: Ramanjaneyanagar
                              end:
                                location:
                                  gps: '12.9351856, 77.62459969999999'
                                  address:
                                    ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                                    country: India
                                    building: Rangadore Memorial Hospital
                                    state: Karnataka
                                    city: Bengaluru
                                    locality: Basavanagudi
                                    door: null
                                    area_code: ''
                                    street: Chikkanna Garden
                              vehicle:
                                category: AUTO_RICKSHAW
                              tags:
                                groups/1/descriptor/code: route_info
                                groups/1/descriptor/name: Route Information
                                groups/1/display: true
                                groups/1/list/1/descriptor/code: encoded_polyline
                                groups/1/list/1/descriptor/name: Path
                                groups/1/list/1/value: _p~iF~ps|U_ulLnnqC_mqNvxq`@
                                groups/1/list/2/descriptor/code: waypoints
                                groups/1/list/2/descriptor/name: Waypoints
                                groups/1/list/2/value: '[{"gps":"12.9099828, 77.6118226"},{"gps":"12.9099828, 77.6118226"},{"gps":"12.9099828, 77.6118226"},{"gps":"12.9099828, 77.6118226"}]'
                          payments:
                            - id: '1'
                              type: ON-FULFILLMENT
                              collected_by: BPP
                          tags:
                            groups/1/descriptor/name: General Information
                            groups/1/descriptor/code: general_info
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Rides confirmed
                            groups/1/list/1/descriptor/code: rides_confirmed
                            groups/1/list/1/value: '0'
                            groups/1/list/2/descriptor/name: Rides In Progress
                            groups/1/list/2/descriptor/code: rides_in_progress
                            groups/1/list/2/value: '0'
                            groups/1/list/3/descriptor/name: Rides Completed
                            groups/1/list/3/descriptor/code: rides_completed
                            groups/1/list/3/value: '0'
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_select:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Send draft order object with quoted price for selected items
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_select
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return a quote offered by a provider
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    transaction_id: 870782be-6757-43f1-945c-8eeaf9536259
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_select
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '76'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                        ttl: P200S
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            name: Found drivers
                            code: AGENTS_FOUND
                        start:
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_init:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Send order object with payment details updated
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_init
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return draft order with payment terms
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_init
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        start:
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_confirm:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Send active order object
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_confirm
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return confirmed order with latest fulfillment details
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_confirm
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: DRIVER_EN_ROUTE
                            name: Driver is on the way
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_track:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Send tracking details of an active order
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_track
                      required:
                        - action
                message:
                  type: object
                  properties:
                    tracking:
                      $ref: '#/components/schemas/Tracking'
                  required:
                    - tracking
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return tracking information for an order
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T05:41:09Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    message_id: ec3dea8c-c64c-4f06-b2a0-ec1f9584d7ba
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_track
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    tracking:
                      content_type: application/json
                      url: 'https://api.beckn.juspay.in/dobpp/ui/driver/location/abc9f0aa-bbfd-4e91-b378-41feee12f05f'
                      status: active
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_cancel:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Send cancellation request_id with reasons list in case of cancellation request. Else send cancelled order object
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_cancel
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return order cancelled by rider with cancellation charges
                value:
                  context:
                    action: on_cancel
                    bap_id: example-bap.com
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: example-bpp.com
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: 'std:080'
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    timestamp: '2023-03-23T04:48:53Z'
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                  message:
                    order:
                      fulfillment:
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/code: localization
                              groups/1/descriptor/name: Localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                        end:
                          location:
                            address:
                              area_code: ''
                              building: Rangadore Memorial Hospital
                              city: Bengaluru
                              country: India
                              door: null
                              locality: Basavanagudi
                              state: Karnataka
                              street: Chikkanna Garden
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                            gps: '12.9711869, 77.5868122'
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        start:
                          authorization:
                            token: '234234'
                            type: OTP
                          location:
                            address:
                              area_code: '560061'
                              building: 6th Main Rd
                              city: Bengaluru
                              country: India
                              door: '98A, Sarovarm 2nd cross'
                              locality: Uttarahalli Hobli
                              state: Karnataka 560061
                              street: Ramanjaneyanagar
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                            gps: '13.008935, 77.6444085'
                        state:
                          descriptor:
                            code: DRIVER_EN_ROUTE
                            name: Driver is on the way
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      items:
                        - descriptor:
                            code: RIDE
                            name: Auto Ride
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          payment_id: '1'
                          tags:
                            groups/1/descriptor/code: fare_policy
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/code: fare_policy
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/display: true
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/code: info
                            groups/3/descriptor/name: General Information
                            groups/3/display: true
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/value: 3 min
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        params:
                          amount: '30'
                          bank_account: '32754478993'
                          bank_account_name: RAGHAVENDRA J
                          bank_code: SBIN0000575
                          currency: INR
                          transaction_status: NOT-PAID
                        time:
                          duration: P1D
                        type: POST-FULFILLMENT
                      provider:
                        descriptor:
                          name: Raghavendra J
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                      quote:
                        breakup:
                          - price:
                              currency: INR
                              value: '30'
                            title: Cancellation charges
                        currency: INR
                        value: '30'
              example1:
                summary: Return order cancelled by the driver
                value:
                  context:
                    action: on_cancel
                    bap_id: example-bap.com
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                    bpp_id: example-bpp.com
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    city: 'std:080'
                    core_version: 0.9.4
                    country: IND
                    domain: 'nic2004:60221'
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    timestamp: '2023-03-23T04:48:53Z'
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                  message:
                    order:
                      fulfillment:
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/code: localization
                              groups/1/descriptor/name: Localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                        end:
                          location:
                            address:
                              area_code: ''
                              building: Rangadore Memorial Hospital
                              city: Bengaluru
                              country: India
                              door: null
                              locality: Basavanagudi
                              state: Karnataka
                              street: Chikkanna Garden
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                            gps: '12.9711869, 77.5868122'
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        start:
                          authorization:
                            token: '234234'
                            type: OTP
                          location:
                            address:
                              area_code: '560061'
                              building: 6th Main Rd
                              city: Bengaluru
                              country: India
                              door: '98A, Sarovarm 2nd cross'
                              locality: Uttarahalli Hobli
                              state: Karnataka 560061
                              street: Ramanjaneyanagar
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                            gps: '13.008935, 77.6444085'
                        state:
                          descriptor:
                            code: RIDE_CANCELLED
                            name: Oops! The driver had to cancel
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      items:
                        - descriptor:
                            code: RIDE
                            name: Auto Ride
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          payment_id: '1'
                          tags:
                            groups/1/descriptor/code: fare_policy
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, hance of return trip, etc.'
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/code: fare_policy
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/display: true
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/code: info
                            groups/3/descriptor/name: General Information
                            groups/3/display: true
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/value: 3 min
                      payments:
                        - id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                          params:
                            amount: '0'
                            currency: INR
                            transaction_status: CANCELLED
                          type: POST-FULFILLMENT
                      provider:
                        descriptor:
                          name: Raghavendra J
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                      quote:
                        currency: INR
                        value: '0'
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_update:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Returns updated service with updated runtime object
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_update
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return updated order with payment transaction status
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_confirm
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    update_target: order.payment
                    order:
                      id: ABC1234
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: PAYMENT_COLLECTED
                            name: Payment received
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: PAID
              example1:
                summary: Return updated order with recomputed charges
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_confirm
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    update_target: 'order.payment, order.quote'
                    order:
                      id: ABC1234
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '75'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '40'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: RIDE_ENDED
                            name: Your ride has ended
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '75'
                          currency: INR
                          transaction_status: NOT-PAID
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_status:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Fetch the status of a Service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_status
                      required:
                        - action
                message:
                  type: object
                  properties:
                    order:
                      $ref: '#/components/schemas/Order'
                  required:
                    - order
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return order with status - Driver at pickup
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_status
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: DRIVER_AT_PICKUP
                            name: Driver Arrived at Pickup Location
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
              example1:
                summary: Return order with latest fulfillment status - Driver en-route to pickup
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_status
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: DRIVER_EN_ROUTE_TO_PICKUP
                            name: Driver is en-route to your location
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
              example2:
                summary: Return order with latest status - Ride started
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_status
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: RIDE_STARTED
                            name: Your ride has started
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
              example3:
                summary: Return order with latest status - Ride Ended
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T04:48:53Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    transaction_id: b580c989-f84d-4abe-af28-2c818aafce3b
                    message_id: 8926b747-0362-4fcc-b795-0994a6287700
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_status
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    order:
                      id: 7751bd26-3fdc-47ca-9b64-e998dc5abe68
                      provider:
                        id: e8542642-0f4a-454c-9a9f-f46110c367a3
                        descriptor:
                          name: Raghavendra J
                      items:
                        - id: 5777a0bf-9a08-49aa-a97d-1e5561a9622e
                          descriptor:
                            name: Auto Ride
                            code: RIDE
                          tags:
                            groups/1/descriptor/name: Daytime Charges
                            groups/1/descriptor/code: fare_policy
                            groups/1/display: true
                            groups/1/list/1/descriptor/name: Min Fare upto 2 km
                            groups/1/list/1/value: ₹ 30 upto 2 km
                            groups/1/list/2/descriptor/name: Rate above Min. Fare
                            groups/1/list/2/descriptor/code: extra_fare
                            groups/1/list/2/value: ₹15 / km
                            groups/1/list/3/descriptor/name: Driver Pickup Charges
                            groups/1/list/3/descriptor/code: pickup_charges
                            groups/1/list/3/value: ₹ 10
                            groups/1/list/4/descriptor/name: Nominal Fare
                            groups/1/list/4/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/4/descriptor/code: nominal_fare
                            groups/1/list/4/value: ₹ 10
                            groups/1/list/5/descriptor/name: Nominal Fare
                            groups/1/list/5/descriptor/short_desc: 'Driver may quote extra to cover for traffic, chance of return trip, etc.'
                            groups/1/list/5/descriptor/code: waiting_charges
                            groups/1/list/5/value: ₹ 0 / min
                            groups/2/descriptor/name: Waiting Charges
                            groups/2/descriptor/code: fare_policy
                            groups/2/display: true
                            groups/2/list/1/descriptor/name: Night Charges
                            groups/2/list/1/descriptor/code: night_charges
                            groups/2/list/1/value: 1.5x of daytime charges applicable at night from 10 PM to 5 PM
                            groups/2/list/2/descriptor/name: Night Shift Start
                            groups/2/list/2/descriptor/code: night_shift_start_time
                            groups/2/list/2/value: '22:00:00'
                            groups/2/list/3/descriptor/name: Night Shift End
                            groups/2/list/3/descriptor/code: night_shift_end_time
                            groups/2/list/3/value: '05:00:00'
                            groups/3/descriptor/name: General Information
                            groups/3/descriptor/code: info
                            groups/3/display: true
                            groups/3/list/1/descriptor/name: Distance to nearest driver
                            groups/3/list/1/descriptor/code: distance_to_nearest_driver
                            groups/3/list/1/value: 661 m
                            groups/3/list/2/descriptor/name: Wait time upto
                            groups/3/list/2/descriptor/code: waiting_time_estimated_threshold
                            groups/3/list/2/value: 3 min
                          fulfillment_id: fb5c84d4-1b59-4b9d-96b5-9d79107432c5
                          payment_id: '1'
                      quote:
                        value: '81'
                        currency: INR
                        breakup:
                          - title: Base Fare
                            price:
                              value: '30'
                              currency: INR
                          - title: Per km fare
                            price:
                              value: '56'
                              currency: INR
                          - title: CGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                          - title: SGST @ 5%
                            price:
                              value: '2.5'
                              currency: INR
                      fulfillment:
                        id: fulf_5cf064d5-4c0a-42d3-b73d-5f19a6f7468e
                        state:
                          descriptor:
                            code: RIDE_ENDED
                            name: Your ride has ended
                        start:
                          authorization:
                            type: OTP
                            token: '234234'
                          location:
                            gps: '13.008935, 77.6444085'
                            address:
                              ward: 'Uttarahalli Hobli, Ramanjaneyanagar'
                              country: India
                              building: 6th Main Rd
                              state: Karnataka 560061
                              city: Bengaluru
                              locality: Uttarahalli Hobli
                              door: '98A, Sarovarm 2nd cross'
                              area_code: '560061'
                              street: Ramanjaneyanagar
                        end:
                          location:
                            gps: '12.9711869, 77.5868122'
                            address:
                              ward: 'Basavanagudi, Chikkanna Garden, Rangadore Memorial Hospital'
                              country: India
                              building: Rangadore Memorial Hospital
                              state: Karnataka
                              city: Bengaluru
                              locality: Basavanagudi
                              door: null
                              area_code: ''
                              street: Chikkanna Garden
                        agent:
                          name: RAGHAVENDRA J
                          phone: +91-98978675645
                          rateable: true
                          rating: '5'
                        vehicle:
                          category: AUTO_RICKSHAW
                          registration: KA01JG1231
                        customer:
                          person:
                            name: John Doe
                            phone: +91-9897867564
                            tags:
                              groups/1/descriptor/name: Localization
                              groups/1/descriptor/code: localization
                              groups/1/display: false
                              groups/1/list/1/descriptor/code: lang
                              groups/1/list/1/descriptor/name: Language
                              groups/1/list/1/value: en
                      payment:
                        id: 7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                        type: ON-FULFILLMENT
                        params:
                          amount: '81'
                          currency: INR
                          transaction_status: NOT-PAID
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_rating:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Provide feedback on a service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_rating
                      required:
                        - action
                message:
                  type: object
                  $ref: '#/components/schemas/RatingAck'
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
                - message
            examples:
              example0:
                summary: Return acknowledgement of rating and feedback
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T05:41:15Z'
                    bap_id: api.beckn.juspay.in/pilot/bap/cab/v1
                    bpp_id: api.beckn.juspay.in/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f
                    message_id: 2a17e268-1dc4-4d1a-98a2-17554a50c7d2
                    city: Bangalore
                    core_version: 0.9.4
                    action: on_rating
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    feedback_ack: true
                    rating_ack: true
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
  /on_support:
    post:
      tags:
        - Beckn App Platform (BAP)
      description: Contact Support
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  allOf:
                    - $ref: '#/components/schemas/Context'
                    - properties:
                        action:
                          enum:
                            - on_support
                      required:
                        - action
                message:
                  type: object
                  properties:
                    support:
                      $ref: '#/components/schemas/Support'
                error:
                  $ref: '#/components/schemas/Error'
              required:
                - context
            examples:
              example0:
                summary: Return support information related to an order
                value:
                  context:
                    country: IND
                    bpp_uri: 'https://api.example-bpp.com/dobpp/beckn/7f7896dd-787e-4a0b-8675-e9e6fe93bb8f'
                    domain: 'nic2004:60221'
                    timestamp: '2023-03-23T05:41:09Z'
                    bap_id: example-bap.com
                    bpp_id: example-bpp.com
                    message_id: ec3dea8c-c64c-4f06-b2a0-ec1f9584d7ba
                    city: 'std:080'
                    core_version: 0.9.4
                    action: on_support
                    bap_uri: 'https://api.example-bap.com/pilot/bap/cab/v1'
                  message:
                    phone: '+918068870525'
                    email: support@nammayatri.in
                    url: 'https://support.nammayatri.com/gethelp'
      responses:
        default:
          $ref: '#/paths/~1init/post/responses/default'
components:
  securitySchemes:
    SubscriberAuth:
      type: apiKey
      in: header
      name: Authorization
      description: 'Signature of message body using BAP or BPP subscriber''s signing public key. <br/><br/>Format:<br/><br/><code>Authorization : Signature keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created) (expires) digest",signature="Base64(BLAKE-512(signing string))"</code>'
    GatewaySubscriberAuth:
      type: apiKey
      in: header
      name: Proxy-Authorization
      description: 'Signature of message body + BAP/BPP''s Authorization header using BG''s signing public key. Format:<br/><br/><code>Proxy-Authorization : Signature keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created) (expires) digest",signature="Base64(BLAKE-512(signing string))"</code><p><b>Note:</b>This header will be deprecated soon and will no longer be supported in future releases. New implementors are requested to use the X-Gateway-Authorization header. Existing implementations are requested to migrate their header to the new header. The deprecation date will be set after discussion as per the standard specification governance process.</p>'
    GatewaySubscriberAuthNew:
      type: apiKey
      in: header
      name: X-Gateway-Authorization
      description: 'Signature of message body + BAP/BPP''s Authorization header using BG''s signing public key. Format:<br/><br/><code>X-Gateway-Authorization : Signature keyId="{subscriber_id}|{unique_key_id}|{algorithm}",algorithm="ed25519",created="1606970629",expires="1607030629",headers="(created) (expires) digest",signature="Base64(BLAKE-512(signing string))"</code>'
  schemas:
    Ack:
      type: object
      description: Describes the ACK response
      properties:
        status:
          description: 'Describe the status of the ACK response. If schema validation passes, status is ACK else it is NACK'
          enum:
            - ACK
            - NACK
          type: string
      required:
        - status
    AddOn:
      type: object
      description: Describes an add-on
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        id:
          description: 'ID of the add-on. This follows the syntax {item.id}/add-on/{add-on unique id} for item specific add-on OR '
          type: string
        price:
          $ref: '#/components/schemas/Price'
    Address:
      type: object
      description: Describes an address
      properties:
        area_code:
          description: 'Area code. This can be Pincode, ZIP code or any equivalent'
          type: string
        building:
          description: Name of the building or block
          type: string
        city:
          description: City name
          type: string
        country:
          description: Country name
          type: string
        door:
          description: Door / Shop number of the address
          type: string
        locality:
          description: 'Name of the locality, apartments'
          type: string
        name:
          description: 'Name of address if applicable. Example, shop name'
          type: string
        state:
          description: State name
          type: string
        street:
          description: Street name or number
          type: string
        ward:
          description: Name or number of the ward if applicable
          type: string
    Agent:
      description: Describes an order executor
      allOf:
        - $ref: '#/components/schemas/Person'
        - $ref: '#/components/schemas/Contact'
        - properties:
            rateable:
              $ref: '#/components/schemas/Rateable'
          type: object
    Authorization:
      type: object
      description: Describes an authorization mechanism
      properties:
        status:
          description: Status of the token
          type: string
        token:
          description: Token used for authorization
          type: string
        type:
          description: Type of authorization mechanism used
          type: string
        valid_from:
          description: Timestamp in RFC3339 format from which token is valid
          format: date-time
          type: string
        valid_to:
          description: Timestamp in RFC3339 format until which token is valid
          format: date-time
          type: string
    Billing:
      type: object
      description: Describes a billing event
      properties:
        address:
          $ref: '#/components/schemas/Address'
        created_at:
          format: date-time
          type: string
        email:
          format: email
          type: string
        name:
          description: Personal details of the customer needed for billing.
          type: string
        organization:
          $ref: '#/components/schemas/Organization'
        phone:
          type: string
        tax_number:
          type: string
        time:
          $ref: '#/components/schemas/Time'
        updated_at:
          format: date-time
          type: string
      required:
        - name
        - phone
    Cancellation:
      type: object
      description: Describes the ACK response
      properties:
        additional_description:
          $ref: '#/components/schemas/Descriptor'
        cancelled_by:
          type: string
        policies:
          items:
            $ref: '#/components/schemas/Policy'
          type: array
        reasons:
          $ref: '#/components/schemas/Option'
        ref_id:
          type: string
        selected_reason:
          properties:
            id:
              $ref: '#/components/schemas/Option/properties/id'
          type: object
        time:
          format: date-time
          type: string
        type:
          enum:
            - full
            - partial
          type: string
    Catalog:
      type: object
      description: Describes a BPP catalog
      properties:
        bpp/categories:
          items:
            $ref: '#/components/schemas/Category'
          type: array
        bpp/descriptor:
          $ref: '#/components/schemas/Descriptor'
        bpp/fulfillments:
          items:
            $ref: '#/components/schemas/Fulfillment'
          type: array
        bpp/offers:
          items:
            $ref: '#/components/schemas/Offer'
          type: array
        bpp/payments:
          items:
            $ref: '#/components/schemas/Payment'
          type: array
        bpp/providers:
          items:
            $ref: '#/components/schemas/Provider'
          type: array
        exp:
          description: Time after which catalog has to be refreshed
          format: date-time
          type: string
    Category:
      type: object
      description: Describes a category
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        id:
          description: Unique id of the category
          type: string
        parent_category_id:
          $ref: '#/components/schemas/Category/properties/id'
        tags:
          $ref: '#/components/schemas/Tags'
        time:
          $ref: '#/components/schemas/Time'
    Circle:
      type: object
      description: Describes a circular area on the map
      properties:
        gps:
          $ref: '#/components/schemas/Gps'
        radius:
          $ref: '#/components/schemas/Scalar'
      required:
        - gps
        - radius
    City:
      type: object
      description: Describes a city
      properties:
        code:
          description: City code
          type: string
        name:
          description: Name of the city
          type: string
    Contact:
      type: object
      properties:
        email:
          type: string
        phone:
          type: string
        tags:
          $ref: '#/components/schemas/Tags'
    Context:
      type: object
      description: Describes a beckn message context
      properties:
        action:
          description: Defines the Beckn API call. Any actions other than the enumerated actions are not supported by Beckn Protocol
          enum:
            - search
            - select
            - init
            - confirm
            - update
            - status
            - track
            - cancel
            - rating
            - support
            - on_search
            - on_select
            - on_init
            - on_confirm
            - on_update
            - on_status
            - on_track
            - on_cancel
            - on_rating
            - on_support
          type: string
        bap_id:
          description: Unique id of the BAP. By default it is the fully qualified domain name of the BAP
          format: uri
          type: string
        bap_uri:
          description: URI of the BAP for accepting callbacks. Must have the same domain name as the bap_id
          format: uri
          type: string
        bpp_id:
          description: Unique id of the BPP. By default it is the fully qualified domain name of the BPP
          format: uri
          type: string
        bpp_uri:
          description: URI of the BPP. Must have the same domain name as the bap_id
          format: uri
          type: string
        city:
          $ref: '#/components/schemas/City/properties/code'
        core_version:
          description: Version of Beckn core API specification being used
          type: string
        country:
          $ref: '#/components/schemas/Country/properties/code'
        domain:
          $ref: '#/components/schemas/Domain'
        key:
          description: The encryption public key of the sender
          type: string
        message_id:
          description: This is a unique value which persists during a request / callback cycle
          type: string
        timestamp:
          description: Time of request generation in RFC3339 format
          format: date-time
          type: string
        transaction_id:
          description: This is a unique value which persists across all API calls from search through confirm
          type: string
        ttl:
          description: The duration in ISO8601 format after timestamp for which this message holds valid
          type: string
      required:
        - domain
        - action
        - country
        - city
        - core_version
        - transaction_id
        - message_id
        - bap_id
        - bap_uri
        - timestamp
    Country:
      type: object
      description: Describes a country.
      properties:
        code:
          description: Country code as per ISO 3166-1 and ISO 3166-2 format
          type: string
        name:
          description: Name of the country
          type: string
    DecimalValue:
      type: string
      description: Describes a decimal value
      pattern: '[+-]?([0-9]*[.])?[0-9]+'
    Descriptor:
      type: object
      description: Describes the description of a real-world object.
      properties:
        3d_render:
          format: uri
          type: string
        audio:
          format: uri
          type: string
        code:
          type: string
        images:
          items:
            $ref: '#/components/schemas/Image'
          type: array
        long_desc:
          type: string
        name:
          type: string
        short_desc:
          type: string
        symbol:
          type: string
    Dimensions:
      type: object
      description: Describes the dimensions of a real-world object
      properties:
        breadth:
          $ref: '#/components/schemas/Scalar'
        height:
          $ref: '#/components/schemas/Scalar'
        length:
          $ref: '#/components/schemas/Scalar'
    Document:
      type: object
      description: Describes a document which can be sent as a url
      properties:
        label:
          type: string
        url:
          format: uri
          type: string
    Domain:
      type: string
      description: Describes the domain of an object
    Duration:
      type: string
      description: Describes duration as per ISO8601 format
    Error:
      type: object
      description: Describes an error object
      properties:
        code:
          description: 'Beckn specific error code. For full list of error codes, refer to error_codes.md in the root folder of this repo'
          type: string
        message:
          description: Human readable message describing the error
          type: string
        path:
          description: Path to json schema generating the error. Used only during json schema validation errors
          type: string
        type:
          enum:
            - CONTEXT-ERROR
            - CORE-ERROR
            - DOMAIN-ERROR
            - POLICY-ERROR
            - JSON-SCHEMA-ERROR
          type: string
      required:
        - type
        - code
    Feedback:
      type: object
      description: Feedback for a service
      properties:
        feedback_form:
          $ref: '#/components/schemas/FeedbackForm'
        feedback_url:
          $ref: '#/components/schemas/FeedbackUrl'
    FeedbackForm:
      type: array
      description: Describes a feedback form that a BPP can send to get feedback from the BAP
      items:
        $ref: '#/components/schemas/FeedbackFormElement'
    FeedbackFormElement:
      type: object
      description: An element in the feedback form. It can be question or an answer to the question.
      properties:
        answer:
          description: Specifies an answer option to which the question will be in the FeedbackFormElement specified in parent_id
          type: string
        answer_type:
          description: Specifies how the answer option should be rendered.
          enum:
            - radio
            - checkbox
            - text
          type: string
        id:
          type: string
        parent_id:
          $ref: '#/components/schemas/FeedbackFormElement/properties/id'
        question:
          description: Specifies the question to which the answer options will be contained in the child FeedbackFormElements
          type: string
    FeedbackUrl:
      type: object
      description: Describes how a feedback URL will be sent by the BPP
      properties:
        params:
          additionalProperties:
            type: string
          properties:
            feedback_id:
              description: This value will be placed in the the $feedback_id url param in case of http/get and in the requestBody http/post requests
              type: string
          required:
            - feedback_id
          type: object
        tl_method:
          enum:
            - http/get
            - http/post
          type: string
        url:
          description: feedback URL sent by the BPP
          format: uri
          type: string
    Fulfillment:
      type: object
      description: Describes how a single product/service will be rendered/fulfilled to the end customer
      properties:
        agent:
          $ref: '#/components/schemas/Agent'
        contact:
          $ref: '#/components/schemas/Contact'
        customer:
          properties:
            contact:
              $ref: '#/components/schemas/Contact'
            person:
              $ref: '#/components/schemas/Person'
          type: object
        end:
          description: Details on the end of fulfillment
          properties:
            authorization:
              $ref: '#/components/schemas/Authorization'
            contact:
              $ref: '#/components/schemas/Contact'
            instructions:
              $ref: '#/components/schemas/Descriptor'
            location:
              $ref: '#/components/schemas/Location'
            person:
              $ref: '#/components/schemas/Person'
            time:
              $ref: '#/components/schemas/Time'
          type: object
        id:
          description: Unique reference ID to the fulfillment of an order
          type: string
        person:
          $ref: '#/components/schemas/Person'
        provider_id:
          $ref: '#/components/schemas/Provider/properties/id'
        rateable:
          $ref: '#/components/schemas/Rateable'
        rating:
          $ref: '#/components/schemas/Rating/properties/value'
        start:
          description: Details on the start of fulfillment
          properties:
            authorization:
              $ref: '#/components/schemas/Authorization'
            contact:
              $ref: '#/components/schemas/Contact'
            instructions:
              $ref: '#/components/schemas/Descriptor'
            location:
              $ref: '#/components/schemas/Location'
            person:
              $ref: '#/components/schemas/Person'
            time:
              $ref: '#/components/schemas/Time'
          type: object
        state:
          $ref: '#/components/schemas/State'
        tags:
          $ref: '#/components/schemas/Tags'
        tracking:
          default: false
          description: Indicates whether the fulfillment allows tracking
          type: boolean
        type:
          description: This describes the type of fulfillment
          type: string
        vehicle:
          $ref: '#/components/schemas/Vehicle'
    Gps:
      type: string
      description: Describes a gps coordinate
      pattern: '^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$'
    Image:
      type: string
      description: 'Image of an object. <br/><br/> A url based image will look like <br/><br/>```uri:http://path/to/image``` <br/><br/> An image can also be sent as a data string. For example : <br/><br/> ```data:js87y34ilhriuho84r3i4```'
    Intent:
      type: object
      description: Intent of a user. Used for searching for services
      properties:
        category:
          $ref: '#/components/schemas/Category'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        fulfillment:
          $ref: '#/components/schemas/Fulfillment'
        item:
          $ref: '#/components/schemas/Item'
        offer:
          $ref: '#/components/schemas/Offer'
        payment:
          $ref: '#/components/schemas/Payment'
        provider:
          $ref: '#/components/schemas/Provider'
        tags:
          $ref: '#/components/schemas/Tags'
    Item:
      type: object
      description: Describes an item. Allows for domain extension.
      properties:
        category_id:
          $ref: '#/components/schemas/Category/properties/id'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        fulfillment_id:
          $ref: '#/components/schemas/Fulfillment/properties/id'
        id:
          description: This is the most unique identifier of a service item. An example of an Item ID could be the SKU of a product.
          type: string
        location_id:
          $ref: '#/components/schemas/Location/properties/id'
        matched:
          type: boolean
        parent_item_id:
          $ref: '#/components/schemas/Item/properties/id'
        price:
          $ref: '#/components/schemas/Price'
        rateable:
          $ref: '#/components/schemas/Rateable'
        rating:
          $ref: '#/components/schemas/Rating/properties/value'
        recommended:
          type: boolean
        related:
          type: boolean
        tags:
          $ref: '#/components/schemas/Tags'
        time:
          $ref: '#/components/schemas/Time'
    ItemQuantity:
      type: object
      description: Describes count or amount of an item
      properties:
        allocated:
          properties:
            count:
              minimum: 0
              type: integer
            measure:
              $ref: '#/components/schemas/Scalar'
          type: object
        available:
          properties:
            count:
              minimum: 0
              type: integer
            measure:
              $ref: '#/components/schemas/Scalar'
          type: object
        maximum:
          properties:
            count:
              minimum: 1
              type: integer
            measure:
              $ref: '#/components/schemas/Scalar'
          type: object
        minimum:
          properties:
            count:
              minimum: 0
              type: integer
            measure:
              $ref: '#/components/schemas/Scalar'
          type: object
        selected:
          properties:
            count:
              minimum: 0
              type: integer
            measure:
              $ref: '#/components/schemas/Scalar'
          type: object
    Language:
      type: object
      description: indicates language code. Beckn supports country codes as per ISO 639.2 standard
      properties:
        code:
          type: string
    Location:
      type: object
      description: Describes the location of a runtime object.
      properties:
        3dspace:
          type: string
        address:
          $ref: '#/components/schemas/Address'
        circle:
          $ref: '#/components/schemas/Circle'
        city:
          $ref: '#/components/schemas/City'
        country:
          $ref: '#/components/schemas/Country'
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        gps:
          $ref: '#/components/schemas/Gps'
        id:
          type: string
        polygon:
          type: string
        station_code:
          type: string
        time:
          $ref: '#/components/schemas/Time'
    Name:
      type: string
      description: 'Describes the name of a person in format: ./{given_name}/{honorific_prefix}/{first_name}/{middle_name}/{last_name}/{honorific_suffix}'
      pattern: '^\./[^/]+/[^/]*/[^/]*/[^/]*/[^/]*/[^/]*$'
    Offer:
      type: object
      description: Describes an offer
      properties:
        category_ids:
          items:
            $ref: '#/components/schemas/Category/properties/id'
          type: array
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        id:
          type: string
        item_ids:
          items:
            $ref: '#/components/schemas/Item/properties/id'
          type: array
        location_ids:
          items:
            $ref: '#/components/schemas/Location/properties/id'
          type: array
        time:
          $ref: '#/components/schemas/Time'
    Operator:
      description: Describes the agent of a service
      allOf:
        - $ref: '#/components/schemas/Person'
        - properties:
            experience:
              properties:
                label:
                  type: string
                unit:
                  type: string
                value:
                  type: string
              type: object
    Option:
      type: object
      description: Describes a selectable option
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        id:
          type: string
    Order:
      type: object
      description: Describes the details of an order
      properties:
        add_ons:
          items:
            properties:
              id:
                $ref: '#/components/schemas/AddOn/properties/id'
            required:
              - id
            type: object
          type: array
        billing:
          $ref: '#/components/schemas/Billing'
        created_at:
          format: date-time
          type: string
        documents:
          items:
            $ref: '#/components/schemas/Document'
          type: array
        fulfillment:
          $ref: '#/components/schemas/Fulfillment'
        id:
          description: Hash of order object without id
          type: string
        items:
          items:
            allOf:
              - $ref: '#/components/schemas/Item'
              - properties:
                  quantity:
                    $ref: '#/components/schemas/ItemQuantity/properties/selected'
            required:
              - id
            type: object
          type: array
        offers:
          items:
            properties:
              id:
                $ref: '#/components/schemas/Offer/properties/id'
            required:
              - id
            type: object
          type: array
        payment:
          $ref: '#/components/schemas/Payment'
        provider:
          properties:
            id:
              $ref: '#/components/schemas/Provider/properties/id'
            locations:
              items:
                properties:
                  id:
                    $ref: '#/components/schemas/Location/properties/id'
                required:
                  - id
                type: object
              maxItems: 1
              type: array
          type: object
        quote:
          $ref: '#/components/schemas/Quotation'
        state:
          type: string
        updated_at:
          format: date-time
          type: string
    Organization:
      type: object
      description: Describes an organization
      properties:
        cred:
          type: string
        name:
          type: string
    Page:
      type: object
      description: Describes a page in a search result
      properties:
        id:
          type: string
        next_id:
          type: string
    Payment:
      type: object
      description: Describes a payment
      properties:
        params:
          additionalProperties:
            type: string
          properties:
            amount:
              $ref: '#/components/schemas/DecimalValue'
            currency:
              $ref: '#/components/schemas/Price/properties/currency'
            transaction_id:
              description: This value will be placed in the the $transaction_id url param in case of http/get and in the requestBody http/post requests
              type: string
            transaction_status:
              type: string
          required:
            - currency
          type: object
        status:
          enum:
            - PAID
            - NOT-PAID
          type: string
        time:
          $ref: '#/components/schemas/Time'
        tl_method:
          enum:
            - http/get
            - http/post
          type: string
        type:
          enum:
            - ON-ORDER
            - PRE-FULFILLMENT
            - ON-FULFILLMENT
            - POST-FULFILLMENT
          type: string
        uri:
          description: 'A payment uri to be called by the BAP. If empty, then the payment is to be done offline. The details of payment should be present in the params object. If ```tl_method``` = http/get, then the payment details will be sent as url params. Two url param values, ```$transaction_id``` and ```$amount``` are mandatory. And example url would be : https://www.example.com/pay?txid=$transaction_id&amount=$amount&vpa=upiid&payee=shopez&billno=1234'
          format: uri
          type: string
    Person:
      type: object
      description: Describes a person.
      properties:
        cred:
          type: string
        dob:
          format: date
          type: string
        gender:
          description: 'Gender of something, typically a Person, but possibly also fictional characters, animals, etc. While Male and Female may be used, text strings are also acceptable for people who do not identify as a binary gender'
          type: string
        image:
          $ref: '#/components/schemas/Image'
        name:
          $ref: '#/components/schemas/Name'
        tags:
          $ref: '#/components/schemas/Tags'
    Policy:
      type: object
      description: Describes a policy. Allows for domain extension.
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        id:
          type: string
        parent_policy_id:
          $ref: '#/components/schemas/Policy/properties/id'
        time:
          $ref: '#/components/schemas/Time'
    Price:
      type: object
      description: Describes the price of an item. Allows for domain extension.
      properties:
        computed_value:
          $ref: '#/components/schemas/DecimalValue'
        currency:
          type: string
        estimated_value:
          $ref: '#/components/schemas/DecimalValue'
        listed_value:
          $ref: '#/components/schemas/DecimalValue'
        maximum_value:
          $ref: '#/components/schemas/DecimalValue'
        minimum_value:
          $ref: '#/components/schemas/DecimalValue'
        offered_value:
          $ref: '#/components/schemas/DecimalValue'
        value:
          $ref: '#/components/schemas/DecimalValue'
    Provider:
      type: object
      description: 'Describes a service provider. This can be a restaurant, a hospital, a Store etc'
      properties:
        categories:
          items:
            $ref: '#/components/schemas/Category'
          type: array
        category_id:
          description: Category Id of the provider
          type: string
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        exp:
          description: Time after which catalog has to be refreshed
          format: date-time
          type: string
        fulfillments:
          items:
            $ref: '#/components/schemas/Fulfillment'
          type: array
        id:
          description: Id of the provider
          type: string
        items:
          items:
            $ref: '#/components/schemas/Item'
          type: array
        locations:
          items:
            allOf:
              - $ref: '#/components/schemas/Location'
              - properties:
                  rateable:
                    $ref: '#/components/schemas/Rateable'
                type: object
          type: array
        offers:
          items:
            $ref: '#/components/schemas/Offer'
          type: array
        payments:
          items:
            $ref: '#/components/schemas/Payment'
          type: array
        rateable:
          $ref: '#/components/schemas/Rateable'
        rating:
          $ref: '#/components/schemas/Rating/properties/value'
        tags:
          $ref: '#/components/schemas/Tags'
        time:
          $ref: '#/components/schemas/Time'
    Quotation:
      type: object
      description: Describes a quote
      properties:
        breakup:
          items:
            properties:
              price:
                $ref: '#/components/schemas/Price'
              title:
                type: string
            type: object
          type: array
        price:
          $ref: '#/components/schemas/Price'
        ttl:
          $ref: '#/components/schemas/Duration'
    Rateable:
      type: boolean
      description: If the entity can be rated or not
    Rating:
      type: object
      description: Describes the rating of a person or an object.
      properties:
        feedback_form:
          $ref: '#/components/schemas/FeedbackForm'
        feedback_id:
          $ref: '#/components/schemas/FeedbackUrl/properties/params/properties/feedback_id'
        id:
          description: Id of the object being rated
          type: string
        rating_category:
          description: Category of the object being rated
          type: string
        value:
          description: Rating value given to the object
          minimum: 0
          type: number
    RatingAck:
      type: object
      properties:
        feedback_ack:
          description: If feedback has been recorded or not
          type: boolean
        rating_ack:
          description: If rating has been recorded or not
          type: boolean
    Scalar:
      type: object
      description: An object representing a scalar quantity.
      properties:
        computed_value:
          type: number
        estimated_value:
          type: number
        range:
          properties:
            max:
              type: number
            min:
              type: number
          type: object
        type:
          enum:
            - CONSTANT
            - VARIABLE
          type: string
        unit:
          type: string
        value:
          type: number
      required:
        - value
        - unit
    Schedule:
      type: object
      description: Describes a schedule
      properties:
        frequency:
          $ref: '#/components/schemas/Duration'
        holidays:
          items:
            format: date-time
            type: string
          type: array
        times:
          items:
            format: date-time
            type: string
          type: array
    State:
      type: object
      description: Describes a state
      properties:
        descriptor:
          $ref: '#/components/schemas/Descriptor'
        updated_at:
          format: date-time
          type: string
        updated_by:
          description: ID of entity which changed the state
          type: string
    Subscriber:
      type: object
      description: 'Any entity which wants to authenticate itself on a network. This can be a BAP, BPP, BG, BPPR or a BGR.'
      properties:
        cb_url:
          description: Callback URL of the subscriber. The Registry will call this URL's on_subscribe API to validate the subscriber\'s credentials
          type: string
        city:
          $ref: '#/components/schemas/City/properties/code'
        country:
          $ref: '#/components/schemas/Country/properties/code'
        created:
          description: Timestamp when a subscriber was added to the registry with status = INITIATED
          format: date-time
          type: string
        domain:
          $ref: '#/components/schemas/Domain'
        encryption_public_key:
          description: Encryption public key of the BAP subscriber. Any BPP must encrypt the ```requestBody.message``` value of the ```on_search``` API using this public key.
          type: string
        expires:
          description: Expiry timestamp in UTC derived from the ```lease_time``` of the subscriber
          format: date-time
          type: string
        signing_public_key:
          description: 'Signing Public key of the subscriber. <br/><br/>Any subscriber platform (BAP, BPP, BG) who wants to transact on the network must digitally sign the ```requestBody``` using the corresponding private key of this public key and send it in the transport layer header. In case of ```HTTP``` it is the ```Authorization``` header. <br><br/>The ```Authorization``` will be used to validate the signature of a BAP or BPP.<br/><br/>Furthermore, if an API call is being proxied or multicast by a Beckn Gateway, the BG must use it\''s signing key to digitally sign the ```requestBody``` using the corresponding private key of this public key and send it in the ```X-Gateway-Authorization``` header.'
          type: string
        status:
          enum:
            - INITIATED
            - UNDER_SUBSCRIPTION
            - SUBSCRIBED
            - INVALID_SSL
            - UNSUBSCRIBED
          type: string
        subscriber_id:
          description: Registered domain name of the subscriber. Must have a valid SSL certificate issued by a Certificate Authority of the operating region
          type: string
        type:
          enum:
            - bap
            - bpp
            - bg
            - bppr
            - bgr
          type: string
        updated:
          format: date-time
          type: string
    Support:
      type: object
      description: Customer support
      properties:
        channels:
          $ref: '#/components/schemas/Tags'
        ref_id:
          type: string
        type:
          enum:
            - order
            - billing
            - fulfillment
          type: string
    Tags:
      description: 'A simple key-value store which is used to contain extended metadata. However, grouped tags can be created using the recommendations provided in docs/protocol-drafts/BECKN-The-Tags-Schema-Draft-01.md'
      additionalProperties:
        type: string
    Time:
      type: object
      description: Describes time in its various forms. It can be a single point in time; duration; or a structured timetable of operations
      properties:
        days:
          description: comma separated values representing days of the week
          type: string
        duration:
          $ref: '#/components/schemas/Duration'
        label:
          type: string
        range:
          properties:
            end:
              format: date-time
              type: string
            start:
              format: date-time
              type: string
          type: object
        schedule:
          $ref: '#/components/schemas/Schedule'
        timestamp:
          format: date-time
          type: string
    Tracking:
      type: object
      description: Describes the tracking info of an object
      properties:
        status:
          enum:
            - active
            - inactive
          type: string
        url:
          format: uri
          type: string
    TrackingData:
      description: Describes tracking data object during live tracking of an order
      type: string
      pattern: '^[-+]?([1-8]?\d(\.\d+)?|90(\.0+)?),\s*[-+]?(180(\.0+)?|((1[0-7]\d)|([1-9]?\d))(\.\d+)?)$'
    Vehicle:
      type: object
      description: Describes the properties of a vehicle used in a mobility service
      properties:
        capacity:
          type: integer
        category:
          type: string
        color:
          type: string
        energy_type:
          type: string
        make:
          type: string
        model:
          type: string
        registration:
          type: string
        size:
          type: string
        variant:
          type: string
